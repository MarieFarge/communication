\begin{tikzpicture}[scale=3,
every node/.style={%
text height=1.5ex,text depth=0.25ex,
scale=0.8}]
% Diagram generated by http://github.com/wetneb/MorozParser
\makeatletter


\pgfdeclareshape{triangle}{
    \inheritsavedanchors[from=rectangle]
    \inheritanchorborder[from=rectangle]
    \inheritanchor[from=rectangle]{center}
    \inheritanchor[from=rectangle]{north}
    \inheritanchor[from=rectangle]{south}
    \inheritanchor[from=rectangle]{east}
    \inheritanchor[from=rectangle]{southwest}
    \inheritanchor[from=rectangle]{southeast}

    \backgroundpath{
        \southwest \pgf@xb=\pgf@x \pgf@yb=\pgf@y
        \northeast \pgf@xa=\pgf@x \pgf@ya=\pgf@y
        \pgf@xc=0.5\pgf@xa \advance\pgf@xc by+0.5\pgf@xb

        \pgfpathmoveto{\pgfpoint{\pgf@xc}{\pgf@ya}}
        \pgfpathlineto{\pgfpoint{\pgf@xb}{\pgf@yb}}
        \pgfpathlineto{\pgfpoint{\pgf@xa}{\pgf@yb}}
        \pgfpathlineto{\pgfpoint{\pgf@xc}{\pgf@ya}}
    }
}

\tikzstyle{big-triangle}=[triangle,draw,inner sep=0pt,minimum width=0.5cm,minimum height=0.15cm]
\tikzstyle{vbig-triangle}=[big-triangle,scale=0.7]
\tikzstyle{vbig-triangle}=[big-triangle,scale=2]
\tikzstyle{mbig-triangle}=[big-triangle,scale=1.2]
\tikzstyle{small-triangle}=[big-triangle,scale=0.25]


\node at (0.0,0) (t2) {$N$};
\node at (0.0,1.5) (w0) {Pat};
\node at (1.5,0) (t8) {$N^r$ $S$ $N^l$};
\node at (1.5,1.5) (w1) {likes};
\node at (3.2,0) (t17) {$N$ $N^l$};
\node at (3.0,1.5) (w2) {female};
\node at (4.5,0) (t28) {$N$};
\node at (4.5,1.5) (w3) {octopuses};

%\node at (-1,2) (t) {};
%\node at (-1,0.05) (b) {};
%\draw[decorate,decoration={brace,amplitude=6pt}] (b) -- node[left] {\begin{tabular}{c} Word \\ semantics \end{tabular}} (t);

%\node at (-1,-0.05) (t) {};
%\node at (-1,-4) (b) {};
%\draw[decorate,decoration={brace,amplitude=6pt}] (b) -- node[left] {\begin{tabular}{c} Type \\ reduction \end{tabular}} (t);

% Curves below :
\draw[-latex] (0.0,-0.25) .. controls (0.0,-0.55525) and (0.24474999999999997,-0.8) .. (0.55,-0.8) .. controls (0.8552500000000001,-0.8) and (1.1,-0.55525) .. (1.1,-0.25);

\draw[latex-] (1.9,-0.25) .. controls (1.9,-0.5552499999999999) and (2.14475,-0.7999999999999998) .. (2.45,-0.7999999999999998) .. controls (2.75525,-0.7999999999999998) and (3,-0.5552499999999999) .. (3,-0.25);

\draw[-latex] (1.5,-0.25) -- (1.5,-1.1);

\draw[-latex] (4.5,-0.25) arc (0:-180:0.55cm);

\node at (1.5,-1.35) {$S$};

% Curves above:

\node[vbig-triangle] at (0.0,0.75) (fresh) {};
\node[scale=0.8] at ($(fresh)+(0,-0.05)$) {$p$};
\draw (0.0,0.25) -- (fresh);

\node[rectangle,draw,scale=0.8,minimum height=1.9cm,minimum width=1.5cm] at (1.5,0.62) (fresh) {$l$};
\draw (1.5,0.25) -- (fresh);
\draw (1.1,0.25) -- (1.1,0.82);
\draw (1.9,0.25) -- (1.9,0.82);
\draw[-latex] (1.1,0.82) arc (180:0:0.15cm);
\draw[-latex] (1.9,0.82) arc (0:180:0.15cm);

\node[vbig-triangle] at (4.5,0.75) (fresh) {};
\node[scale=0.8] at ($(fresh)+(0,-0.05)$) {$o$};
\draw (4.5,0.25) -- (fresh);

\begin{scope}[xshift=-3.9cm]
\node[rectangle,draw,minimum width=1.5cm,scale=0.8] at (6.9,0.6) (n) {$+$};
\draw[-latex] (n) -- ($(n.center)-(0,0.35)$);
\draw[latex-] ($(n.north)+(0.1,0)$) arc (180:0:0.15cm);
\draw ($(n.north)+(0.4,0)$) -- (7.3,0.25);
\node[vbig-triangle] at ($(n.north) +(-0.1,0.4)$) (tri) {};
\node[scale=0.8] at ($(tri)+(0,-0.05)$) {$f$};
\draw[latex-] ($(n.north)-(0.1,0)$) -- (tri);
\end{scope}

\begin{scope}[xshift=7cm,yshift=-1cm]
    \node at (-1.3,1) {{\Large $=$}};

\node at (0.0,0) {$S$};

\node[rectangle,draw,scale=0.8,minimum width=3cm] at (0,0.7) (fresh) {$l$};
\draw[latex-] (0,0.25) -- (fresh);

\node[vbig-triangle] at (0.1,1.8) (td1) {};
\node[scale=0.8] at ($(td1)+(0,-0.05)$) {$f$};
\node[vbig-triangle] at (0.4,1.8) (td2) {};
\node[scale=0.8] at ($(td2)+(0,-0.05)$) {$o$};

\node[rectangle,draw,scale=0.8,minimum width=2cm,fill=white] at (0.25,1.2) (n1) {$+$};

\draw[-latex] (n1) -- (n1 |- fresh.north);
\draw[-latex] (td1) -- (td1 |- n1.north);
\draw[-latex] (td2) -- (td2 |- n1.north);

\node[vbig-triangle] at (-0.25,1.2) (tg) {};
\node[scale=0.8] at ($(tg)+(0,-0.05)$) {$p$};
\draw[-latex] (tg) -- (tg |- fresh.north);

\end{scope}

\end{tikzpicture}

